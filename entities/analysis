{
  "name": "Analysis",
  "type": "object",
  "properties": {
    "image_url": {
      "type": "string",
      "description": "URL of the uploaded road material image"
    },
    "location": {
      "type": "string",
      "description": "GPS coordinates or location name"
    },
    "materials_detected": {
      "type": "object",
      "description": "Classification results with confidence scores",
      "properties": {
        "bitumen": {
          "type": "number",
          "description": "Confidence percentage for bitumen"
        },
        "sand": {
          "type": "number",
          "description": "Confidence percentage for sand"
        },
        "gravel": {
          "type": "number",
          "description": "Confidence percentage for gravel"
        },
        "stone_chips": {
          "type": "number",
          "description": "Confidence percentage for stone chips"
        },
        "dust": {
          "type": "number",
          "description": "Confidence percentage for dust"
        }
      }
    },
    "stone_size_data": {
      "type": "object",
      "description": "Stone chip size distribution data",
      "properties": {
        "average_size_mm": {
          "type": "number",
          "description": "Average stone size in millimeters"
        },
        "size_distribution": {
          "type": "array",
          "description": "Size distribution histogram data",
          "items": {
            "type": "object",
            "properties": {
              "range": {
                "type": "string"
              },
              "count": {
                "type": "number"
              }
            }
          }
        }
      }
    },
    "composition_summary": {
      "type": "object",
      "description": "Material composition percentages",
      "properties": {
        "bitumen_percent": {
          "type": "number"
        },
        "aggregate_percent": {
          "type": "number"
        },
        "fines_percent": {
          "type": "number"
        }
      }
    },
    "quality_status": {
      "type": "string",
      "enum": [
        "excellent",
        "good",
        "acceptable",
        "poor",
        "failed"
      ],
      "description": "Overall quality assessment"
    },
    "alerts": {
      "type": "array",
      "description": "Quality deviation alerts",
      "items": {
        "type": "string"
      }
    },
    "notes": {
      "type": "string",
      "description": "Additional notes or observations"
    }
  },
  "required": []
}
